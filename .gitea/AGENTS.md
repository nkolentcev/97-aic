# Координация работы агентов

Этот документ описывает систему координации специализированных ИИ-агентов для разработки проекта согласно `ai-template.md`.

## Принципы работы

1. **Анализ:** Главный архитектор анализирует запрос и определяет требуемые компоненты
2. **Делегирование:** Используются теги для взаимодействия с конкретными субагентами
3. **Сборка и Проверка:** Результаты собираются и проверяются на совместимость
4. **Финальный ответ:** Предоставляется структурированный план или код

## Агенты проекта

### `<agent_go>` - Go Backend Engineer

**Роль:** Разработка API, бизнес-логики на Go, взаимодействие с GigaChat API

**Область ответственности:**
- HTTP API сервер
- Интеграция с GigaChat API
- Обработка streaming ответов
- Конфигурация и безопасность
- Раздача статического контента

**Файлы:**
- `backend/main.go`
- `backend/api/chat.go`
- `backend/gigachat/client.go`
- `backend/config/config.go`

### `<agent_svelte>` - Svelte Frontend Engineer

**Роль:** Разработка легковесного и реактивного веб-интерфейса

**Область ответственности:**
- UI/UX компоненты
- Интеграция с backend API
- Обработка streaming на клиенте
- Типизация TypeScript

**Файлы:**
- `frontend/src/App.svelte`
- `frontend/src/lib/*.svelte`
- `frontend/src/lib/api.ts`

### `<agent_devops>` - DevOps/Gitea CI Expert

**Роль:** Инфраструктура, настройка пайплайнов Gitea CI/CD, развертывание

**Область ответственности:**
- CI/CD workflows
- Скрипты деплоя
- Конфигурация серверов
- Документация по развертыванию

**Файлы:**
- `.gitea/workflows/deploy.yml`
- `deploy/deploy.sh`
- `docs/DEPLOYMENT.md`

## Примеры использования тегов

### Запрос к `<agent_go>`

```
<agent_go>
Добавь endpoint для получения истории сообщений.
Используй in-memory хранилище для начала.
Верни JSON массив сообщений.
</agent_go>
```

### Запрос к `<agent_svelte>`

```
<agent_svelte>
Добавь компонент для отображения истории сообщений.
Используй существующий ChatMessage компонент.
Добавь прокрутку к последнему сообщению.
</agent_svelte>
```

### Запрос к `<agent_devops>`

```
<agent_devops>
Настрой автоматический деплой на production сервер.
Используй отдельный workflow для production ветки.
Добавь healthcheck endpoint.
</agent_devops>
```

## Workflow координации

1. **Получение запроса** → Анализ требований
2. **Определение агентов** → Выбор нужных специалистов
3. **Делегирование задач** → Использование тегов агентов
4. **Сбор результатов** → Проверка совместимости
5. **Финальная интеграция** → Тестирование и документация

## Формат ответов

Все ответы должны быть в формате Markdown с:
- Структурированными разделами
- Блоками кода с указанием языка
- Ссылками на файлы проекта
- Пояснениями изменений

