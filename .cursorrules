# Правила для Cursor и Claude Code

## Контекст проекта

Это full-stack приложение для работы с GigaChat API:
- Backend: Go 1.21+
- Frontend: Svelte + TypeScript
- CI/CD: Gitea Actions
- Документация: Doc-as-code в Markdown

## Архитектура агентов

Используй систему координации агентов из `ai-template.md`:

- `<agent_go>` - Backend разработка на Go
- `<agent_svelte>` - Frontend разработка на Svelte
- `<agent_devops>` - DevOps и CI/CD

## Стиль кода

### Go
- Используй `gofmt` для форматирования
- Следуй [Effective Go](https://go.dev/doc/effective_go)
- Обрабатывай все ошибки явно
- Комментарии к экспортируемым функциям обязательны
- Используй структурированное логирование

### TypeScript/Svelte
- Строгий режим TypeScript (`strict: true`)
- Компоненты в PascalCase
- Файлы в kebab-case
- Обрабатывай все ошибки

## Структура проекта

- `/backend` - Go API сервер
- `/frontend` - Svelte приложение
- `/docs` - документация
- `/.gitea` - CI/CD workflows

## Работа с агентами

При обращении к агентам:
1. Указывай конкретного агента через тег
2. Давай четкие инструкции
3. Указывай файлы для изменения
4. Предоставляй контекст из связанных файлов

## Документация

- Обновляй документацию вместе с кодом
- Используй формат Markdown
- Добавляй примеры использования
- Документируй архитектурные решения

## Безопасность

- Не хардкоди секреты
- Используй переменные окружения
- Валидируй все входные данные
- Логируй ошибки без чувствительных данных

## Тестирование

- Пиши тесты для новой функциональности
- Проверяй edge cases
- Используй моки для внешних зависимостей
- Стремись к высокому покрытию

## Git workflow

- Коммиты на русском языке
- Формат: `тип: краткое описание`
- Ветки: `feature/название`, `fix/название`
- Перед коммитом: тесты и линтинг

